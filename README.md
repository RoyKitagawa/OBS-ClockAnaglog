<a id="anchor1"></a>
# OBS着せ替えアナログ時計の概要  
こちらはOBSを用いた配信などで配信画面に現在の時刻を表示するためのアナログ時計となっています  
ソースコードを操作することなく画像を差し替えることで各種着せ替えが可能で、簡単に独自の画像を追加することもできます

※表示サンプル  
![image](https://user-images.githubusercontent.com/78025620/151687474-021a8bf6-3940-4878-9f75-0264e2974460.png)

また現状は以下の各種カスタマイズ機能に対応しております
追加の要望等ございましたら、Issueに起票をお願いいたします。

## 対応カスタマイズ機能一覧
1. 時計画像の着せ替え（デフォルトでkawaii、wood、game-clockの３パターンが存在します）
2. 自前の画像で時計を着せ替え
3. 各種針の進め方の調整（カチカチ進むかシームレスに動くか）
4. タイムゾーン（時差）の調整

### カスタマイズ機能をご利用いただく際の注意点
※本ソフトウェアの一部カスタマイズ機能を利用するにあたって```js```フォルダ内の```setting.js```という特殊な拡張子のテキストファイルを編集する必要があります。  
※開発用のツールをお持ちでない場合、こちらのファイルを開き編集するためには```setting.js```ファイルを右クリックして、「プログラムから開く」からメモ帳などのテキスト編集ツールを選択し、ファイルの編集を行ってください。  
![image](https://user-images.githubusercontent.com/78025620/149616580-86c2cf83-c5e5-424f-ae50-e7bdac6e961d.png)  

# 目次
1. [OBS着せ替えアナログ時計の概要](#anchor1)
2. [OBS上でソースコードを取り込む方法](#anchor2)
3. [各種カスタマイズについて（概要）](#anchor3)
4. [時計の着せ替えについて（テンプレートを使用する場合）](#anchor4)
5. [時計の着せ替えについて（独自の着せ替え画像を使用する場合）](#anchor5)  
6. [針の進め方の設定について](#anchor6)  
7. [時差の設定について](#anchor7)
8. [その他各種設定について](#anchor8)
  
  
<a id="anchor2"></a>
## OBS上でソースコードを取り込む方法
それではまずは本プロジェクトをOBS上で表示させる方法をご紹介します。  
インストールされているフォントによっては見栄えがサンプルと違う風に表示される可能性もありますが、そちらは後述の[フォントの設定について](#anchor6)をご確認お願いいたします。  
  
### 本プロジェクトのダウンロード、及びOBSへの取り込む手順
1. [プロジェクトページ](https://github.com/RoyKitagawa/OBS-DateTimeClock)からZipファイルをダウンロードし、任意の場所に解凍する
![image](https://user-images.githubusercontent.com/78025620/151687592-6ec472b3-b86c-4b46-afd6-b9f63d408475.png)  
2. OBS上で「ブラウザ」のソースを追加  
![OBS-1](https://user-images.githubusercontent.com/78025620/149194173-b8f09038-f792-4be9-ad82-53452c1fa352.png) ![OBS-2](https://user-images.githubusercontent.com/78025620/149194272-326b6820-42d5-42da-b103-b049bc077f21.png)  
3. 追加したブラウザソースの設定画面で「ローカルファイル」のチェックを入れる  
4. 「参照」ボタンからダウンロードしたこちらのプロジェクトの```html```フォルダ内にある```clock.html```を指定する  
5. 「表示されていないときにソースをシャットダウン」、及び「シーンがアクティブになったときにブラウザの表示を更新」にチェックを入れる  
![イラスト](https://user-images.githubusercontent.com/78025620/151687685-f9c1b3e1-2352-4f8b-94bf-36b3ccc72eca.png)

  
<a id="anchor3"></a>
## 各種カスタマイズ項目について（概要）
前述の通り、本ソフトウェアでは複数のカスタマイズが可能となっています。  
時計の見た目を変更する場合は「imagesフォルダ内の画像」を変更するだけで簡単に対応が可能です。  
  
ただし時計の針の進め方や時差の設定等、一部カスタマイズではソースコードの調整が必要になる場合があります。  
そのため配信者の方になるべく気軽に使っていただくため、ソースコードの変更が必要なファイルを以下の1ファイルのみに絞らせていただいています。  
    
1. ```js/settings.js```: 時計の時差、針の進め方の調整等が可能です  
  
<a id="anchor4"></a>
## 時計の着せ替えについて（テンプレートを使用する場合）    　
本ソフトウェアで時計の着せ替えを行う場合は```images/clock```フォルダ内の画像を別の時計画像フォルダののに差し替えるだけで可能です。  
  
![image](https://user-images.githubusercontent.com/78025620/151687965-43a71ef7-f4d5-4628-a414-e6d6033be1c3.png)  
  
初期状態では上記画像のように```clock_kawaii```フォルダと同じファイルが```clock```フォルダに入っています。  
では例えば```clock_game_clock```に着せ替えたい場合、以下の手順で簡単に対応が可能です。  
  
1. ```clock_game_clock```のフォルダを開き、中のファイルを全て選択しコピーする  
2. ```clock```フォルダを開き、ペーストする。その際「宛先には同じ名前のファイルが6個存在します」というポップアップが表示されますので「ファイルを置き換える」を選択してください 
3. 着せ替え完了です。OBS側で変更を反映させるには以下のいずれかの手順を行ってください。
    - OBSのシーン上で時計のソースを一度非表示にし、再度表示させる
    - OBS上でシーンを切り替える
    - OBSを再起動
  
<a id="anchor5"></a>
## 時計の着せ替えについて（独自の着せ替え画像を使用する場合）    　
本ソフトウェアではお好きな時計の画像を用意していただくことで簡単に着せ替えを行うことが可能です。   
その際、いくつかの決まり事があるため、必要なもの及び手順についてご紹介します。  

### 独自の着せ替えをする場合に必要なもの
着せ替えをする際、以下の6つの画像ファイルが必要となります。    
また、ファイル名は必ず指定されたものと同名にしてください。  
※もしご用意された画像がうまく表示されない場合、誤字脱字や大文字小文字のズレ等が発生している可能性もありますのでご注意ください。  
※時計のデザイン的に一部画像が不要な場合も、必ず同名の透過画像を配置してください（ファイルが存在しない場合、エラーが出てしまう可能性があります）   
  
![image](https://user-images.githubusercontent.com/78025620/151688647-2906b6e3-3e8b-4246-aff1-726ca7854315.png)  
  
1. ClockBG.png: 時計の盤面となる画像
2. ClockHour.png: 時計の時針画像
3. ClockMinutes.png: 時計の分針画像
4. ClockSeconds.png: 時計の秒針画像
5. ClockNeedleCap.png: 時計の中心、時計の針の固定部分にかぶせるように表示される画像
5. ClockOverlay.png: 時計の前面の蓋部分。ガラスの表現や模様付け用。
  
### 独自の着せ替え画像のルールについて
また、今回画像差し替えて簡単に着せ替えをできるように、画像を作るにあたっていくつかのルールがあります。  
こちらを準拠されていない場合、着せ替え画像が適切に表示されない可能性があるためご注意ください。  

1. 各種画像は作成されたサイズのまま原寸大で表示されます  
2. 時計盤面画像（```ClockBG.png```）、及び時計のオーバーレイ画像（```ClockOverlay.png```）の中心は必ず盤面の中心にくるようにしてください  
3. 時計の各種針画像（```ClockHour.png```、```ClockMinutes.png```、```ClockSeconds.png```）の中心は必ず針が回転する起点の場所にくるようにしてください（ここを軸に針が回転します）  
  
### 画像の中心点の確認方法について
ですが画像を作成する際、画像の中心部分がどこにあるか分かりづらいことがあると思います。  
そのため本ソフトウェアではいくつかの画像の中心点確認用のHTMLファイルをご用意しております。  
  
![image](https://user-images.githubusercontent.com/78025620/151689033-49da4c4d-f13e-41fc-8bd7-e94123ac2279.png)  
  
```html```フォルダ内にはOBS上で指定するための```clock.html```ファイル以外にもいくつかのHTMLファイルが存在します。    
それらはダブルクリックすることでブラウザ上で表示することができますので、動作確認などを行う際にご活用ください。  
※各種ファイルは実際にOBS上で表示されるフォルダ内の画像（初期設定では```images/clock```フォルダ）が参照されます。       
  
#### clock.html
OBS上で実際に指定する用のファイルですが、ダブルクリックすることでブラウザ上で動く時計を簡単に確認することができます。  

![image](https://user-images.githubusercontent.com/78025620/151689119-04686d21-1c13-429d-96fd-24b07aa0c290.png)  

#### imageChecker_ALL.html
各種画像の中心点が確認できます。  
  
![image](https://user-images.githubusercontent.com/78025620/151689151-086ddf17-61fe-408d-a662-753ec2cd1c2e.png)    
  
#### imageChecker_ClockBG.html
時計の盤面背景画像の中心点が確認できます  
※表示する画像が大きすぎて```imageChecker_ALL.html```では見切れてしまう場合などにご利用ください  
  
![image](https://user-images.githubusercontent.com/78025620/151689178-6ab58b53-c4dc-4db4-8163-065ec874cebc.png)  
  
#### imageChecker_ClockHour.html
時計の時針画像の中心点が確認できます  
※表示する画像が大きすぎて```imageChecker_ALL.html```では見切れてしまう場合などにご利用ください  
  
![image](https://user-images.githubusercontent.com/78025620/151689188-30d3b321-cc6c-4112-9d7c-735ae69cebbb.png)  
     
#### imageChecker_ClockMinutes.html
時計の分針画像の中心点が確認できます  
※表示する画像が大きすぎて```imageChecker_ALL.html```では見切れてしまう場合などにご利用ください  
  
![image](https://user-images.githubusercontent.com/78025620/151689203-07109fdf-9b1e-421f-967b-0a96f0dced89.png)  
     
#### imageChecker_ClockNeedleCap.html
時計の針キャップ画像の中心点が確認できます  
※表示する画像が大きすぎて```imageChecker_ALL.html```では見切れてしまう場合などにご利用ください  
  
![image](https://user-images.githubusercontent.com/78025620/151689225-b45e498b-de41-4c2e-85f1-ff03c901cef6.png)  
          
#### imageChecker_ClockOverlay.html
時計のオーバーレイ画像の中心点が確認できます  
※表示する画像が大きすぎて```imageChecker_ALL.html```では見切れてしまう場合などにご利用ください  
  
![image](https://user-images.githubusercontent.com/78025620/151689241-5e5882f0-5f37-470c-86c0-a12f3c2fc407.png)
     
#### imageChecker_ClockSeconds.html
時計の秒針画像の中心点が確認できます  
※表示する画像が大きすぎて```imageChecker_ALL.html```では見切れてしまう場合などにご利用ください  
  
![image](https://user-images.githubusercontent.com/78025620/151689262-7bed6a08-e1fe-472e-a4c4-2041921f41f9.png)  
       
<a id="anchor6"></a>
## 針の進め方の設定について    　
本ソフトウェアでは各種針の進め方を以下の2種類から選ぶことができます  

1. シームレスに常に緩やかに進む  
2. 1秒、1分、1時間など決まった時間に次の目盛りへと針が進む  
  
※初期設定では以下のように設定されています  

1. 時針：シームレスに進む  
2. 分針：一定間隔（60秒）が経過した瞬間に次の目盛りへと進む  
3. 秒針：一定間隔（1秒）が経過した瞬間に次の目盛りへと進む  
  
これらの設定は```js/settings.js```内の以下の3項目を書き換えることで調整が可能です。    
時針を変更する場合は```hourNeedleMovePattern```の値を```0```から```1```に、    
分針を変更する場合は```minutesNeedleMovePattern```の値を```1```から```0```に、  
秒針を変更する場合は```secondsNeedleMovePattern```の値を```1```から```0```にと  
針ごとにお好きな進め方の設定が可能です。  
  
![image](https://user-images.githubusercontent.com/78025620/151688122-877075b8-775e-4091-b062-e253d78e2d0b.png)  
    
<a id="anchor7"></a>
## 時差の設定について    
本ソフトウェアでは任意の時差を指定することができます  
  
### 時差の設定方法  
```js/settings.js```内の```const timeDiffsInHour = 9```という文章の9を任意の表示タイプに変更してください。  
※日本の時差はUTC+9なため、デフォルトの設定は9となっています  
![image](https://user-images.githubusercontent.com/78025620/151687783-9632f68c-1ee8-4541-b109-d8d33cf3fc8d.png)  
  
<a id="anchor8"></a>
## その他各種設定について    　
上記以外の各種の設定も全て```js/settings.js```ファイルにまとめられています。   
※基本的には変更が不要な内容となっています  
   
```js/settings.js```に記述されている設定可能項目一覧  
![image](https://user-images.githubusercontent.com/78025620/151688298-74b3d359-00b8-409d-8a0b-2ef6fdd71e62.png)  
  
### 1. 時針の進め方
前述の[針の進め方の設定について](#anchor6)をご確認ください。 
  
### 2. 分針の進め方
前述の[針の進め方の設定について](#anchor6)をご確認ください。 
  
### 3. 秒針の進め方
前述の[針の進め方の設定について](#anchor6)をご確認ください。 
  
### 4. 時差の設定
前述の[時差の設定について](#anchor7)をご確認ください。  
  
### 5. 画像フォルダの相対パス
OBS上で使用する時計の画像を```images/clock```フォルダから変更が可能です。  
  
![image](https://user-images.githubusercontent.com/78025620/151688338-c67fef42-6f52-479a-b902-639a7eca5124.png)
  
### 6. 画像ファイル名：時計背景用
OBS上で使用する時計の背景画像（盤面）のファイル名を変更できます  
※こちらの設定を変更した上で既存のテンプレートを使用する場合、該当するファイルの名前を個別に変更してあげる必要があります
  
![image](https://user-images.githubusercontent.com/78025620/151688338-c67fef42-6f52-479a-b902-639a7eca5124.png)   
    
### 7. 画像ファイル名：時計時針用
OBS上で使用する時計の時針画像のファイル名を変更できます  
※こちらの設定を変更した上で既存のテンプレートを使用する場合、該当するファイルの名前を個別に変更してあげる必要があります
  
![image](https://user-images.githubusercontent.com/78025620/151688440-4d8b2227-f3f3-4a78-a69a-f67beca1a829.png)  
    
### 8. 画像ファイル名：時計分針用
OBS上で使用する時計の分針画像のファイル名を変更できます  
※こちらの設定を変更した上で既存のテンプレートを使用する場合、該当するファイルの名前を個別に変更してあげる必要があります
  
![image](https://user-images.githubusercontent.com/78025620/151688459-8262a78e-9c3d-47a5-aa33-89d724bcfc14.png)  
      
### 9. 画像ファイル名：時計秒針用
OBS上で使用する時計の秒針画像のファイル名を変更できます  
※こちらの設定を変更した上で既存のテンプレートを使用する場合、該当するファイルの名前を個別に変更してあげる必要があります
  
![image](https://user-images.githubusercontent.com/78025620/151688471-23af578d-b713-49f1-babe-cea7cf7d92fe.png)  
        
### 10. 画像ファイル名：時計針キャップ
OBS上で使用する時計の針キャップ画像のファイル名を変更できます  
※こちらの設定を変更した上で既存のテンプレートを使用する場合、該当するファイルの名前を個別に変更してあげる必要があります
  
![image](https://user-images.githubusercontent.com/78025620/151688488-1361bf15-a196-469a-aac6-7e10d23c36cd.png)  
    
          
### 11. 画像ファイル名：時計オーバーレイ画像
OBS上で使用する時計のオーバーレイ画像のファイル名を変更できます  
※こちらの設定を変更した上で既存のテンプレートを使用する場合、該当するファイルの名前を個別に変更してあげる必要があります
  
![image](https://user-images.githubusercontent.com/78025620/151688495-01a5e4a1-d6a3-4b2e-a7d7-204a21e6cb56.png)  
